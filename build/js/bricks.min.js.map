{"version":3,"sources":["node_modules/browser-pack/_prelude.js","lib/bricks.js","bricks.min.js","lib/exports.js","node_modules/ev-emitter/ev-emitter.js","node_modules/imagesloaded/imagesloaded.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","constructor","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","value","_imagesloaded","_imagesloaded2","Bricks","imagesLoaded","defaults","animation","animationDelay","imageContainerElement","imageLoadedClassName","margin","maxHeight","elem","opts","this","_elem","_images","Array","from","querySelectorAll","_opts","assign","_init","_checkOptions","_addEventListeners","_loadImages","console","error","hasOwnProperty","beforeLoad","afterLoad","window","addEventListener","_createRows","bind","_this","imgLoad","on","_showImages","images","style","removeProperty","image","img","setAttribute","offsetWidth","offsetHeight","containerWidth","clientWidth","imgs","slice","undefined","height","loop","_getHeight","_setDimensions","_setMargins","_i","parentNode","classList","contains","_makeImageContainer","Math","min","_this2","delay","forEach","parseInt","add","animationDuration","_animationComplete","isLoaded","src","w","getAttribute","h","width","_this3","marginRight","val","completed","removeEventListener","_this4","el","item","_makeDOMNode","href","appendChild","className","element","document","createElement","ii","Image","push","index","indexOf","splice","parentElement","remove","_this5","srcs","clientHeight","setTimeout","addNewImages","imagesloaded",2,"_bricks","_bricks2","plugin","./bricks",3,"global","factory","define","amd","EvEmitter","proto","eventName","listener","events","_events","listeners","once","onceEvents","_onceEvents","onceListeners","off","emitEvent","args","isOnce","apply",4,"extend","b","prop","makeArray","ary","isArray","ImagesLoaded","options","onAlways","elements","getImages","$","jqDeferred","Deferred","check","LoadingImage","Background","url","jQuery","create","addElementImages","nodeName","addImage","background","addElementBackgroundImages","nodeType","elementNodeTypes","childImgs","children","child",9,11,"getComputedStyle","reURL","matches","exec","backgroundImage","addBackground","loadingImage","onProgress","message","progress","progressedCount","hasAnyBroken","complete","notify","debug","log","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","handleEvent","event","method","type","onload","unbindEvents","onerror","makeJQueryPlugin","fn","callback","promise","ev-emitter"],"mappings":"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","file":"bricks.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _imagesloaded = require('imagesloaded');\n\nvar _imagesloaded2 = _interopRequireDefault(_imagesloaded);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n *\n * Bricks - A responsive, justified image layout plugin written in\n * JavaScript, and inspired by Google Images.\n * v0.0.1\n * Arjan Jassal <hello@arjanjassal.com>\n * MIT License\n *\n */\n\nvar Bricks = function (imagesLoaded) {\n\n\tvar defaults = {\n\t\tanimation: true,\n\t\tanimationDelay: 50,\n\t\timageContainerElement: 'div',\n\t\timageLoadedClassName: 'bricks__img--loaded',\n\t\tmargin: 0,\n\t\tmaxHeight: 250\n\t};\n\n\t/**\n  *\n  * CLASS DEFINITION\n  *\n  */\n\n\tvar Bricks = function () {\n\t\tfunction Bricks(elem, opts) {\n\t\t\t_classCallCheck(this, Bricks);\n\n\t\t\tthis._elem = elem;\n\t\t\tthis._images = Array.from(this._elem.querySelectorAll('img'));\n\t\t\tthis._opts = Object.assign(defaults, opts);\n\t\t\tthis._init();\n\t\t}\n\n\t\t/**\n   *\n   * PRIVATE METHODS\n   *\n   */\n\n\t\t_createClass(Bricks, [{\n\t\t\tkey: '_init',\n\t\t\tvalue: function _init() {\n\t\t\t\tthis._checkOptions();\n\t\t\t\tthis._addEventListeners();\n\t\t\t\tthis._loadImages();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_checkOptions',\n\t\t\tvalue: function _checkOptions() {\n\t\t\t\tif (typeof this._opts.maxHeight !== 'number') {\n\t\t\t\t\tconsole.error('maxHeight must be a number not a ' + _typeof(this._opts.maxHeight) + '.');\n\t\t\t\t}\n\n\t\t\t\tif (this._opts.hasOwnProperty('beforeLoad')) {\n\t\t\t\t\tif (typeof this._opts.beforeLoad !== 'function') {\n\t\t\t\t\t\tconsole.error('beforeLoad must be a function not a ' + _typeof(this._opts.beforeLoad) + '.');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this._opts.hasOwnProperty('afterLoad')) {\n\t\t\t\t\tif (typeof this._opts.afterLoad !== 'function') {\n\t\t\t\t\t\tconsole.error('afterLoad must be a function not a ' + _typeof(this._opts.afterLoad) + '.');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this._opts.hasOwnProperty('imageContainerElement')) {\n\t\t\t\t\tif (typeof this._opts.imageContainerElement !== 'string') {\n\t\t\t\t\t\tconsole.error('imageContainerElement must be a string not a ' + _typeof(this._opts.imageContainerElement) + '.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_addEventListeners',\n\t\t\tvalue: function _addEventListeners() {\n\n\t\t\t\t// Re-calculate image dimensions when the window is resized.\n\t\t\t\twindow.addEventListener('resize', this._createRows.bind(this, this._images));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_loadImages',\n\t\t\tvalue: function _loadImages() {\n\t\t\t\tvar _this = this;\n\n\t\t\t\t// Call beforeLoad().\n\t\t\t\tif (this._opts.beforeLoad) this._opts.beforeLoad();\n\n\t\t\t\tvar imgLoad = imagesLoaded(this._elem);\n\n\t\t\t\timgLoad.on('always', function (instance) {\n\n\t\t\t\t\t// Create rows of images.\n\t\t\t\t\t_this._createRows(_this._images);\n\n\t\t\t\t\t// Stagger animation of each image.\n\t\t\t\t\t_this._showImages(instance.images);\n\n\t\t\t\t\t// Call afterLoad().\n\t\t\t\t\tif (_this._opts.afterLoad) _this._opts.afterLoad();\n\n\t\t\t\t\t// If the Bricks container has a height set on it, remove it after the images are loaded.\n\t\t\t\t\t_this._elem.style.removeProperty('height');\n\t\t\t\t});\n\n\t\t\t\timgLoad.on('progress', function (instance, image) {\n\t\t\t\t\tvar img = image.img;\n\t\t\t\t\timg.setAttribute('data-width', img.offsetWidth);\n\t\t\t\t\timg.setAttribute('data-height', img.offsetHeight);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_createRows',\n\t\t\tvalue: function _createRows(images) {\n\t\t\t\tvar containerWidth = this._elem.clientWidth;\n\t\t\t\tvar imgs = this._images.slice();\n\t\t\t\tvar slice = undefined,\n\t\t\t\t    height = undefined;\n\n\t\t\t\tloop: while (imgs.length > 0) {\n\n\t\t\t\t\tfor (var i = 1; i <= imgs.length; i++) {\n\t\t\t\t\t\tslice = imgs.slice(0, i);\n\t\t\t\t\t\theight = this._getHeight(slice, containerWidth);\n\n\t\t\t\t\t\tif (height < this._opts.maxHeight) {\n\t\t\t\t\t\t\tthis._setDimensions(slice, height);\n\t\t\t\t\t\t\tif (this._opts.margin > 0) this._setMargins(slice);\n\t\t\t\t\t\t\tfor (var _i = 0; _i < slice.length; _i++) {\n\t\t\t\t\t\t\t\tif (!slice[_i].parentNode.classList.contains('bricks__item')) {\n\t\t\t\t\t\t\t\t\tthis._makeImageContainer(slice);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\timgs = imgs.slice(i);\n\t\t\t\t\t\t\tcontinue loop;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._setDimensions(slice, Math.min(this._opts.maxHeight, height));\n\t\t\t\t\tif (this._opts.margin > 0) this._setMargins(slice);\n\t\t\t\t\tfor (var i = 0; i < slice.length; i++) {\n\t\t\t\t\t\tif (!slice[i].parentNode.classList.contains('bricks__item')) {\n\t\t\t\t\t\t\tthis._makeImageContainer(slice);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_showImages',\n\t\t\tvalue: function _showImages(images) {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tvar delay = 0;\n\t\t\t\timages.forEach(function (image) {\n\t\t\t\t\tvar img = image.img;\n\n\t\t\t\t\tif (_this2._opts.animation && !img.classList.contains(_this2._opts.imageLoadedClassName)) {\n\n\t\t\t\t\t\tif (typeof _this2._opts.animationDelay !== 'number') {\n\t\t\t\t\t\t\tdelay += parseInt(defaults.animationDelay);\n\t\t\t\t\t\t\tconsole.error('animationDelay must be a valid number.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdelay += parseInt(_this2._opts.animationDelay);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\timg.style.animationDelay = delay + 'ms';\n\t\t\t\t\t\timg.classList.add(_this2._opts.imageLoadedClassName);\n\t\t\t\t\t} else {\n\t\t\t\t\t\timg.style.animationDuration = '0ms';\n\t\t\t\t\t\timg.classList.add(_this2._opts.imageLoadedClassName);\n\t\t\t\t\t}\n\n\t\t\t\t\t_this2._animationComplete(img);\n\n\t\t\t\t\t// Log error to console if image fails to load.\n\t\t\t\t\tif (!image.isLoaded) {\n\t\t\t\t\t\tconsole.error(image.img.src + ' failed to load.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_setDimensions',\n\t\t\tvalue: function _setDimensions(images, height) {\n\t\t\t\tif (images && images.length) {\n\t\t\t\t\timages.forEach(function (img, i) {\n\t\t\t\t\t\tvar w = parseInt(img.getAttribute('data-width'));\n\t\t\t\t\t\tvar h = parseInt(img.getAttribute('data-height'));\n\n\t\t\t\t\t\timg.style.width = height * (w / h) + 'px';\n\t\t\t\t\t\timg.style.height = height + 'px';\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_setMargins',\n\t\t\tvalue: function _setMargins(images) {\n\t\t\t\tvar _this3 = this;\n\n\t\t\t\tif (images && images.length) {\n\t\t\t\t\timages.forEach(function (img, i) {\n\t\t\t\t\t\timg.style.removeProperty('margin-right');\n\t\t\t\t\t\tif (i === images.length - 1) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\timg.style.marginRight = _this3._opts.margin + 'px';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getHeight',\n\t\t\tvalue: function _getHeight(images, containerWidth) {\n\t\t\t\tvar val = 0;\n\t\t\t\tvar margin = this._opts.margin;\n\n\t\t\t\tif (margin > 0) {\n\t\t\t\t\tcontainerWidth -= images.length * margin;\n\t\t\t\t\tcontainerWidth += margin;\n\t\t\t\t}\n\n\t\t\t\tif (images && images.length) {\n\t\t\t\t\timages.forEach(function (img, i) {\n\t\t\t\t\t\tvar w = parseInt(img.getAttribute('data-width'));\n\t\t\t\t\t\tvar h = parseInt(img.getAttribute('data-height'));\n\t\t\t\t\t\tval += w / h;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn containerWidth / val;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_animationComplete',\n\t\t\tvalue: function _animationComplete(img) {\n\t\t\t\tvar completed = function completed() {\n\t\t\t\t\timg.style.removeProperty('animation-delay');\n\t\t\t\t\timg.removeEventListener('animationend', completed);\n\t\t\t\t};\n\n\t\t\t\timg.addEventListener('animationend', completed);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_makeImageContainer',\n\t\t\tvalue: function _makeImageContainer(images) {\n\t\t\t\tvar _this4 = this;\n\n\t\t\t\tif (images && images.length) {\n\t\t\t\t\timages.forEach(function (img, i) {\n\t\t\t\t\t\tvar el = _this4._opts.imageContainerElement;\n\t\t\t\t\t\tvar item = _this4._makeDOMNode(el, 'bricks__item');\n\n\t\t\t\t\t\tif (el === 'a') {\n\t\t\t\t\t\t\titem.href = img.getAttribute('data-href') || '#';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.appendChild(img);\n\t\t\t\t\t\t_this4._elem.appendChild(item);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_makeDOMNode',\n\t\t\tvalue: function _makeDOMNode(el, className) {\n\t\t\t\tvar element = document.createElement(el);\n\t\t\t\telement.classList.add('bricks__item');\n\t\t\t\treturn element;\n\t\t\t}\n\n\t\t\t/**\n    *\n    * PUBLIC METHODS\n    *\n    */\n\n\t\t}, {\n\t\t\tkey: 'addNewImages',\n\t\t\tvalue: function addNewImages(images) {\n\t\t\t\tif (images && images.length && (typeof images === 'undefined' ? 'undefined' : _typeof(images)) === 'object') {\n\t\t\t\t\tvar img = undefined;\n\n\t\t\t\t\tfor (var i = 0, ii = images.length; i < ii; i++) {\n\t\t\t\t\t\timg = new Image();\n\t\t\t\t\t\timg.src = images[i];\n\t\t\t\t\t\timg.classList.add('bricks__img');\n\t\t\t\t\t\tthis._images.push(img);\n\t\t\t\t\t\tthis._elem.appendChild(img);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loadImages();\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('addNewImages only accepts an array of image paths.');\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'removeImages',\n\t\t\tvalue: function removeImages(images) {\n\t\t\t\tif (images && images.length && (typeof images === 'undefined' ? 'undefined' : _typeof(images)) === 'object') {\n\t\t\t\t\tfor (var i = 0, ii = images.length; i < ii; i++) {\n\t\t\t\t\t\tvar index = this._images.indexOf(images[i]);\n\t\t\t\t\t\tif (index > -1) this._images.splice(index, 1);\n\t\t\t\t\t\timages[i].parentElement.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._createRows(this._images);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'reloadImages',\n\t\t\tvalue: function reloadImages() {\n\t\t\t\tvar _this5 = this;\n\n\t\t\t\tvar images = this._images;\n\t\t\t\tvar srcs = [];\n\n\t\t\t\t// Clear the current images so there are no duplicates.\n\t\t\t\tthis._images = [];\n\n\t\t\t\t// Add static height to container so the page doesn't move up when images are removed.\n\t\t\t\tthis._elem.style.height = this._elem.clientHeight + 'px';\n\n\t\t\t\timages.forEach(function (img) {\n\t\t\t\t\timg.parentElement.remove();\n\t\t\t\t\tsrcs.push(img.src);\n\t\t\t\t});\n\n\t\t\t\tsetTimeout(function () {\n\n\t\t\t\t\t// Reload the images with the public method.\n\t\t\t\t\t_this5.addNewImages(srcs);\n\n\t\t\t\t\t// Empty the array so there aren't duplicates if this method is called more than once.\n\t\t\t\t\tsrcs = [];\n\t\t\t\t}, 250);\n\t\t\t}\n\t\t}]);\n\n\t\treturn Bricks;\n\t}();\n\n\treturn Bricks;\n}(_imagesloaded2.default);\n\nexports.default = Bricks;","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _imagesloaded = require('imagesloaded');\n\nvar _imagesloaded2 = _interopRequireDefault(_imagesloaded);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n *\n * Bricks - A responsive, justified image layout plugin written in\n * JavaScript, and inspired by Google Images.\n * v0.0.1\n * Arjan Jassal <hello@arjanjassal.com>\n * MIT License\n *\n */\n\nvar Bricks = function (imagesLoaded) {\n\n\tvar defaults = {\n\t\tanimation: true,\n\t\tanimationDelay: 50,\n\t\timageContainerElement: 'div',\n\t\timageLoadedClassName: 'bricks__img--loaded',\n\t\tmargin: 0,\n\t\tmaxHeight: 250\n\t};\n\n\t/**\n  *\n  * CLASS DEFINITION\n  *\n  */\n\n\tvar Bricks = function () {\n\t\tfunction Bricks(elem, opts) {\n\t\t\t_classCallCheck(this, Bricks);\n\n\t\t\tthis._elem = elem;\n\t\t\tthis._images = Array.from(this._elem.querySelectorAll('img'));\n\t\t\tthis._opts = Object.assign(defaults, opts);\n\t\t\tthis._init();\n\t\t}\n\n\t\t/**\n   *\n   * PRIVATE METHODS\n   *\n   */\n\n\t\t_createClass(Bricks, [{\n\t\t\tkey: '_init',\n\t\t\tvalue: function _init() {\n\t\t\t\tthis._checkOptions();\n\t\t\t\tthis._addEventListeners();\n\t\t\t\tthis._loadImages();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_checkOptions',\n\t\t\tvalue: function _checkOptions() {\n\t\t\t\tif (typeof this._opts.maxHeight !== 'number') {\n\t\t\t\t\tconsole.error('maxHeight must be a number not a ' + _typeof(this._opts.maxHeight) + '.');\n\t\t\t\t}\n\n\t\t\t\tif (this._opts.hasOwnProperty('beforeLoad')) {\n\t\t\t\t\tif (typeof this._opts.beforeLoad !== 'function') {\n\t\t\t\t\t\tconsole.error('beforeLoad must be a function not a ' + _typeof(this._opts.beforeLoad) + '.');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this._opts.hasOwnProperty('afterLoad')) {\n\t\t\t\t\tif (typeof this._opts.afterLoad !== 'function') {\n\t\t\t\t\t\tconsole.error('afterLoad must be a function not a ' + _typeof(this._opts.afterLoad) + '.');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this._opts.hasOwnProperty('imageContainerElement')) {\n\t\t\t\t\tif (typeof this._opts.imageContainerElement !== 'string') {\n\t\t\t\t\t\tconsole.error('imageContainerElement must be a string not a ' + _typeof(this._opts.imageContainerElement) + '.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_addEventListeners',\n\t\t\tvalue: function _addEventListeners() {\n\n\t\t\t\t// Re-calculate image dimensions when the window is resized.\n\t\t\t\twindow.addEventListener('resize', this._createRows.bind(this, this._images));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_loadImages',\n\t\t\tvalue: function _loadImages() {\n\t\t\t\tvar _this = this;\n\n\t\t\t\t// Call beforeLoad().\n\t\t\t\tif (this._opts.beforeLoad) this._opts.beforeLoad();\n\n\t\t\t\tvar imgLoad = imagesLoaded(this._elem);\n\n\t\t\t\timgLoad.on('always', function (instance) {\n\n\t\t\t\t\t// Create rows of images.\n\t\t\t\t\t_this._createRows(_this._images);\n\n\t\t\t\t\t// Stagger animation of each image.\n\t\t\t\t\t_this._showImages(instance.images);\n\n\t\t\t\t\t// Call afterLoad().\n\t\t\t\t\tif (_this._opts.afterLoad) _this._opts.afterLoad();\n\n\t\t\t\t\t// If the Bricks container has a height set on it, remove it after the images are loaded.\n\t\t\t\t\t_this._elem.style.removeProperty('height');\n\t\t\t\t});\n\n\t\t\t\timgLoad.on('progress', function (instance, image) {\n\t\t\t\t\tvar img = image.img;\n\t\t\t\t\timg.setAttribute('data-width', img.offsetWidth);\n\t\t\t\t\timg.setAttribute('data-height', img.offsetHeight);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_createRows',\n\t\t\tvalue: function _createRows(images) {\n\t\t\t\tvar containerWidth = this._elem.clientWidth;\n\t\t\t\tvar imgs = this._images.slice();\n\t\t\t\tvar slice = undefined,\n\t\t\t\t    height = undefined;\n\n\t\t\t\tloop: while (imgs.length > 0) {\n\n\t\t\t\t\tfor (var i = 1; i <= imgs.length; i++) {\n\t\t\t\t\t\tslice = imgs.slice(0, i);\n\t\t\t\t\t\theight = this._getHeight(slice, containerWidth);\n\n\t\t\t\t\t\tif (height < this._opts.maxHeight) {\n\t\t\t\t\t\t\tthis._setDimensions(slice, height);\n\t\t\t\t\t\t\tif (this._opts.margin > 0) this._setMargins(slice);\n\t\t\t\t\t\t\tfor (var _i = 0; _i < slice.length; _i++) {\n\t\t\t\t\t\t\t\tif (!slice[_i].parentNode.classList.contains('bricks__item')) {\n\t\t\t\t\t\t\t\t\tthis._makeImageContainer(slice);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\timgs = imgs.slice(i);\n\t\t\t\t\t\t\tcontinue loop;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._setDimensions(slice, Math.min(this._opts.maxHeight, height));\n\t\t\t\t\tif (this._opts.margin > 0) this._setMargins(slice);\n\t\t\t\t\tfor (var i = 0; i < slice.length; i++) {\n\t\t\t\t\t\tif (!slice[i].parentNode.classList.contains('bricks__item')) {\n\t\t\t\t\t\t\tthis._makeImageContainer(slice);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_showImages',\n\t\t\tvalue: function _showImages(images) {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tvar delay = 0;\n\t\t\t\timages.forEach(function (image) {\n\t\t\t\t\tvar img = image.img;\n\n\t\t\t\t\tif (_this2._opts.animation && !img.classList.contains(_this2._opts.imageLoadedClassName)) {\n\n\t\t\t\t\t\tif (typeof _this2._opts.animationDelay !== 'number') {\n\t\t\t\t\t\t\tdelay += parseInt(defaults.animationDelay);\n\t\t\t\t\t\t\tconsole.error('animationDelay must be a valid number.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdelay += parseInt(_this2._opts.animationDelay);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\timg.style.animationDelay = delay + 'ms';\n\t\t\t\t\t\timg.classList.add(_this2._opts.imageLoadedClassName);\n\t\t\t\t\t} else {\n\t\t\t\t\t\timg.style.animationDuration = '0ms';\n\t\t\t\t\t\timg.classList.add(_this2._opts.imageLoadedClassName);\n\t\t\t\t\t}\n\n\t\t\t\t\t_this2._animationComplete(img);\n\n\t\t\t\t\t// Log error to console if image fails to load.\n\t\t\t\t\tif (!image.isLoaded) {\n\t\t\t\t\t\tconsole.error(image.img.src + ' failed to load.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_setDimensions',\n\t\t\tvalue: function _setDimensions(images, height) {\n\t\t\t\tif (images && images.length) {\n\t\t\t\t\timages.forEach(function (img, i) {\n\t\t\t\t\t\tvar w = parseInt(img.getAttribute('data-width'));\n\t\t\t\t\t\tvar h = parseInt(img.getAttribute('data-height'));\n\n\t\t\t\t\t\timg.style.width = height * (w / h) + 'px';\n\t\t\t\t\t\timg.style.height = height + 'px';\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_setMargins',\n\t\t\tvalue: function _setMargins(images) {\n\t\t\t\tvar _this3 = this;\n\n\t\t\t\tif (images && images.length) {\n\t\t\t\t\timages.forEach(function (img, i) {\n\t\t\t\t\t\timg.style.removeProperty('margin-right');\n\t\t\t\t\t\tif (i === images.length - 1) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\timg.style.marginRight = _this3._opts.margin + 'px';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getHeight',\n\t\t\tvalue: function _getHeight(images, containerWidth) {\n\t\t\t\tvar val = 0;\n\t\t\t\tvar margin = this._opts.margin;\n\n\t\t\t\tif (margin > 0) {\n\t\t\t\t\tcontainerWidth -= images.length * margin;\n\t\t\t\t\tcontainerWidth += margin;\n\t\t\t\t}\n\n\t\t\t\tif (images && images.length) {\n\t\t\t\t\timages.forEach(function (img, i) {\n\t\t\t\t\t\tvar w = parseInt(img.getAttribute('data-width'));\n\t\t\t\t\t\tvar h = parseInt(img.getAttribute('data-height'));\n\t\t\t\t\t\tval += w / h;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn containerWidth / val;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_animationComplete',\n\t\t\tvalue: function _animationComplete(img) {\n\t\t\t\tvar completed = function completed() {\n\t\t\t\t\timg.style.removeProperty('animation-delay');\n\t\t\t\t\timg.removeEventListener('animationend', completed);\n\t\t\t\t};\n\n\t\t\t\timg.addEventListener('animationend', completed);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_makeImageContainer',\n\t\t\tvalue: function _makeImageContainer(images) {\n\t\t\t\tvar _this4 = this;\n\n\t\t\t\tif (images && images.length) {\n\t\t\t\t\timages.forEach(function (img, i) {\n\t\t\t\t\t\tvar el = _this4._opts.imageContainerElement;\n\t\t\t\t\t\tvar item = _this4._makeDOMNode(el, 'bricks__item');\n\n\t\t\t\t\t\tif (el === 'a') {\n\t\t\t\t\t\t\titem.href = img.getAttribute('data-href') || '#';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.appendChild(img);\n\t\t\t\t\t\t_this4._elem.appendChild(item);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_makeDOMNode',\n\t\t\tvalue: function _makeDOMNode(el, className) {\n\t\t\t\tvar element = document.createElement(el);\n\t\t\t\telement.classList.add('bricks__item');\n\t\t\t\treturn element;\n\t\t\t}\n\n\t\t\t/**\n    *\n    * PUBLIC METHODS\n    *\n    */\n\n\t\t}, {\n\t\t\tkey: 'addNewImages',\n\t\t\tvalue: function addNewImages(images) {\n\t\t\t\tif (images && images.length && (typeof images === 'undefined' ? 'undefined' : _typeof(images)) === 'object') {\n\t\t\t\t\tvar img = undefined;\n\n\t\t\t\t\tfor (var i = 0, ii = images.length; i < ii; i++) {\n\t\t\t\t\t\timg = new Image();\n\t\t\t\t\t\timg.src = images[i];\n\t\t\t\t\t\timg.classList.add('bricks__img');\n\t\t\t\t\t\tthis._images.push(img);\n\t\t\t\t\t\tthis._elem.appendChild(img);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loadImages();\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('addNewImages only accepts an array of image paths.');\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'removeImages',\n\t\t\tvalue: function removeImages(images) {\n\t\t\t\tif (images && images.length && (typeof images === 'undefined' ? 'undefined' : _typeof(images)) === 'object') {\n\t\t\t\t\tfor (var i = 0, ii = images.length; i < ii; i++) {\n\t\t\t\t\t\tvar index = this._images.indexOf(images[i]);\n\t\t\t\t\t\tif (index > -1) this._images.splice(index, 1);\n\t\t\t\t\t\timages[i].parentElement.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._createRows(this._images);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'reloadImages',\n\t\t\tvalue: function reloadImages() {\n\t\t\t\tvar _this5 = this;\n\n\t\t\t\tvar images = this._images;\n\t\t\t\tvar srcs = [];\n\n\t\t\t\t// Clear the current images so there are no duplicates.\n\t\t\t\tthis._images = [];\n\n\t\t\t\t// Add static height to container so the page doesn't move up when images are removed.\n\t\t\t\tthis._elem.style.height = this._elem.clientHeight + 'px';\n\n\t\t\t\timages.forEach(function (img) {\n\t\t\t\t\timg.parentElement.remove();\n\t\t\t\t\tsrcs.push(img.src);\n\t\t\t\t});\n\n\t\t\t\tsetTimeout(function () {\n\n\t\t\t\t\t// Reload the images with the public method.\n\t\t\t\t\t_this5.addNewImages(srcs);\n\n\t\t\t\t\t// Empty the array so there aren't duplicates if this method is called more than once.\n\t\t\t\t\tsrcs = [];\n\t\t\t\t}, 250);\n\t\t\t}\n\t\t}]);\n\n\t\treturn Bricks;\n\t}();\n\n\treturn Bricks;\n}(_imagesloaded2.default);\n\nexports.default = Bricks;\n},{\"imagesloaded\":4}],2:[function(require,module,exports){\n'use strict';\n\nvar _bricks = require('./bricks');\n\nvar _bricks2 = _interopRequireDefault(_bricks);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar plugin = window.Bricks || _bricks2.default;\nwindow.Bricks = plugin;\n},{\"./bricks\":1}],3:[function(require,module,exports){\n/**\n * EvEmitter v1.0.1\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners array\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || [];\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var i = 0;\n  var listener = listeners[i];\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  while ( listener ) {\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n    // get next listener\n    i += isOnce ? 0 : 1;\n    listener = listeners[i];\n  }\n\n  return this;\n};\n\nreturn EvEmitter;\n\n}));\n\n},{}],4:[function(require,module,exports){\n/*!\n * imagesLoaded v4.1.0\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( window,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n'use strict';\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  var ary = [];\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    ary = obj;\n  } else if ( typeof obj.length == 'number' ) {\n    // convert nodeList to array\n    for ( var i=0; i < obj.length; i++ ) {\n      ary.push( obj[i] );\n    }\n  } else {\n    // array of single index\n    ary.push( obj );\n  }\n  return ary;\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelectorAll( elem );\n  }\n\n  this.elements = makeArray( elem );\n  this.options = extend( {}, this.options );\n\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( function() {\n    this.check();\n  }.bind( this ));\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  return this.img.complete && this.img.naturalWidth !== undefined;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n\n},{\"ev-emitter\":3}]},{},[2])\n\n","'use strict';\n\nvar _bricks = require('./bricks');\n\nvar _bricks2 = _interopRequireDefault(_bricks);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar plugin = window.Bricks || _bricks2.default;\nwindow.Bricks = plugin;","/**\n * EvEmitter v1.0.1\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners array\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || [];\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var i = 0;\n  var listener = listeners[i];\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  while ( listener ) {\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n    // get next listener\n    i += isOnce ? 0 : 1;\n    listener = listeners[i];\n  }\n\n  return this;\n};\n\nreturn EvEmitter;\n\n}));\n","/*!\n * imagesLoaded v4.1.0\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( window,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n'use strict';\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  var ary = [];\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    ary = obj;\n  } else if ( typeof obj.length == 'number' ) {\n    // convert nodeList to array\n    for ( var i=0; i < obj.length; i++ ) {\n      ary.push( obj[i] );\n    }\n  } else {\n    // array of single index\n    ary.push( obj );\n  }\n  return ary;\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelectorAll( elem );\n  }\n\n  this.elements = makeArray( elem );\n  this.options = extend( {}, this.options );\n\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( function() {\n    this.check();\n  }.bind( this ));\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  return this.img.complete && this.img.naturalWidth !== undefined;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n"],"sourceRoot":"/source/"}